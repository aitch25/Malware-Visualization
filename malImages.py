# ex) python malImages.py calc.exe <width> <height>
# Copyright(c) 2018 Hyunsoo (Hugh) Kim, Korea University, All rights reserved. 

import sys
import cv2
import numpy as np

W = 192
H = 230

np.set_printoptions(threshold=np.inf)

def binRet(mImg):
	with open(sys.argv[1], 'rb') as f:
		for i in range(H):
			for j in range(W):
				l = map(lambda x: "%02x" % ord(x), f.read(1))
				if not l: break
				s = "".join(l)
				mImg[i][j] = int(s, 16)
	return mImg

if __name__=="__main__":
	img = np.zeros((H, W, 1), np.uint8)
	img = binRet(img)
	cv2.namedWindow('image')
	cv2.imwrite('mal_Img.png', img)
	
	while(1):
		cv2.imshow('image', img)
		k = cv2.waitKey(1) & 0xFF
		if k == 27: break 
	
	cv2.destroyAllWindows()

